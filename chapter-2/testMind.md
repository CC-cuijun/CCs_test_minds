# testMind

## 开场白

### 自我介绍

- 我来自paas平台产品群，测试工程师
- kry的业务上你们几乎都是我的老师
- 今天这个算不上什么课程，更像是一个分享，希望大家能跟我一起来探讨，多互动。

### 为什么要做这个分享呢？

- 引出测试现状
- 列举一些例子
- 指出测试思维更重要，思维武装。

## 分类探讨

### 开发

- 代码能力
- 数据库

	- mysql
	- redis
	- mongoDB
	- kafka
	- hbase/hadoop/zookeeper

### 运维

- 日志
- 高可用
- 服务器性能指标

### PM/PO

### 行业知识/基础学科/计算机基础

### 重新认识测试，重建你的测试思维

## Main Topic 3

### 2.测试流程及思维

- 需求理解及分析

	- 需求同步/需求评审
	- 需求测试

		- 功能可测性
		- 业务合理性
		- 描述清晰无二义

	- 分析

		- 功能分析
		- 数据流分析
		- 信息建模

- 开发进入设计阶段

	- 概要、详设、数据库、架构、UI/UE
	- 开发设计文档编写
	- 文档评审
	- 测试需要根据设计文档、架构图、甚至部署图设计测试

- 测试目的及范围确认(依赖交付时间或项目可操作成本)
- 测试设计

	- 策略（根据时间和目的）

		- 做哪些测试，测试重点
		- 测试资源（人力）
		- 测试环境及管理
		- 测试工具开发

			- 自动化
			- 工具类
			- 脚本
			- 性能测试脚本

		- 发布管理流程
		- 测试文档管理

			- 知识管理wiki

		- 白盒测试？

			- 单元测试
			- 代码走查/代码评审
			- 基本路径覆盖法
			- 动态检查

				- debug
				- 模拟方法入口

			- 静态检查

		- 集成测试
		- 冒烟测试
		- 基本功能测试
		- 页面测试（WEB/APP）
		- 兼容性测试
		- 易用性测试
		- 后台测试

			- 接口测试
			- 配置测试
			- 数据库测试
			- 灾难恢复测试
			- 服务日志测试
			- 系统/JVM参数等
			- 系统平行扩展能力

		- 性能测试

			- 压力测试
			- 负载测试
			- 可靠性测试
			- 容量测试

		- 自动化测试
		- 安全测试
		- UAT用户验收测试
		- 具体业务/技术具体分析

			- 手机APP特有

				- 安装卸载
				- 用户数据清理（android）
				- app系统访问权限（相机、麦克风）
				- 弱网测试
				- 后台运行
				- 中断测试
				- 前后台切换测试
				- 流量测试
				- H5页面？手机兼容性？

			- 网关特有等

				- 协议测试
				- 连接管理测试
				- 防火墙等

			- 随机测试
			- 探索性测试
			- 回归测试
			- a/b测试
			- 文档测试

				- 用户手册
				- 运维手册
				- 开发文档及测试文档等

	- 计划

		- 工具开发
		- 用例编写
		- 执行
		- 回归
		- 自动化
		- 性能
		- 安全

	- 测试编码及用例阶段

		- 测试开发

			- 测试工具开发

				- 测试工具设计

					- 技术选择
					- 数据准备
					- 逻辑实现

				- 代码开发及自测

			- 自动化开发

				- 框架选型

					- 基础框架
					- 数据层
					- 业务逻辑
					- 脚本
					- 报告

		- 用例编写

			- 测试用例编写方法

				- 整理测试点
				- 白盒

					- 路径覆盖
					- 静态检查
					- 动态检查

				- 等价划分
				- 边界值
				- 错误推测
				- 因果图
				- 正交矩阵PICT
				- 功能图（状态转换图、流程图等）
				- 场景法

			- 用例评审
			- 测试用例编写思维

				- 功能、性能、安全、用户界面
				- 思维导图法

- 测试执行

	- 手动
	- 自动化
	- 依赖测试人员经验的积累
	- 交叉测试
	- 定时定期交流会议

- bug跟踪及分析

	- 业务出发点

		- 业务需求

			- 功能是否满足
			- 异常是否处理

		- 业务实现

			- 是否满足安全、性能需求
			- 实现方式是否可优化

	- 技术出发点

		- 技术栈分析

			- java框架（spring、spring-boot）特点
			- netty等
			- 容易出错的地方（依赖经验积累、及开发能力）

		- 系统架构合理性
		- 数据库使用

			- mysql

				- mysql优化

					- 表设计合理性
					- 字段类型是否合理
					- 多表关联查询
					- 是否需要临时表/视图
					- SQL语句及索引的优化 数据库表结构的优化 系统配置的优化 硬件的优化
					- 索引设计
					- 慢查询
					- explain sql语句
					- 监控：

				- 数据库测试

					- 业务数据是否保存
					- 设计字段是否合理
					- 数据库/表设计是否合理（关联关系、索引）
					- 数据库操作是否合理（慢查询等）
					- Hbase逐个提交/批量提交（性能）
					- 是否备份

				- 问题排查

					- top查看是否mysqld
					- show processlist

						- session情况

					- 查找线程

						- 连接数

			- redis

				- 缓存 + DB 的读写分离架构
				- 缓存层使用 key-value 的形式来承载大量的读操作
				- DB层数据持久化

			- mongoDB
			- hbase
			- ES
			- kafka

		- 后台测试

			- 接口测试

				- 接口的参数校验
				- 返回
				- 接口类型
				- 请求方法

					- get、post、put、delete
					- http/https

						- 安全。HTTP 直接与 TCP 通信，而 HTTPS 是先与 SSL（加密） 通信，然后再由 SSL 和 TCP 通信

				- 数据量是否合理
				- 业务逻辑
				- 效率（响应时间）
				- http/webservices

					- HTTP 请求头有哪些，介绍平时见过的，怎么利用这些信息来进行前后端调试 Host, 请求的域名 User-Agent，用户的浏览器版本信息 Accept，响应的内容类型 Accept-Language, 接受的语言 Accept-Encoding, 可接受的编码方式 Cookie，本地的 Cookie 信息 if-Modified-Since, 本地有缓存，如果在那之后没有做修改，则可以直接使用本地缓存。

				- Cookie 和 Session 的区别 Session 是存储在服务器端的，Cookie 是存储在客户端的

			- 配置测试

				- 配置的修改是否生效
				- 配置路径/config-server
				- 配置文件是否规范

			- 服务日志

				- 等级设置是否合理
				- 格式是否标准
				- 是否方便跟踪服务运行状况
				- 是否回滚/压缩

			- 系统/java参数等

				- 系统监控

					- zabbix，各项指标
					- linux命令

				- Linux基础

					- 常用命令
					- shell

				- 端口
				- 内存
				- cpu
				- 网卡
				- java GC日志
				- JVM参数

		- 基础网络知识

			- TCP/IP

				- 1.链路层（数据链路层/网络接口层）：包括操作系统中的设备驱动程序、计算机中对应的网络接口卡 2.网络层（互联网层）：处理分组在网络中的活动，比如分组的选路。 3.传输层：主要为两台主机上的应用提供端到端的通信。 4.应用层：负责处理特定的应用程序细节。
				- OSI参考模型： 应用层 表示层 会话层 传输层 网络层 数据链路层 物理层

			- dns
			- 时钟同步NTP
			- 路由
			- 负载均衡lvs等

				- 四层 lvs
				- 七层 nginx
				- 算法：随机、轮询、加权轮询、最少连接法

			- 网络浏览器访问一个网址发生了什么过程

				-  在地址栏输入 URL，并回车 浏览器查询域名的 IP。一般会有以下几个地方： 浏览器缓存 操作系统缓存 路由器缓存 本地 DNS 服务器 如果本地 DNS 服务器上没有的话，它会递归的从根 DNS 服务器、顶级 DNS 服务器、权威 DNS 服务器请求，然后把获取到的 IP 返回给浏览器（DNS 协议基于 UDP）。 浏览器向 web 服务器发送 HTTP 请求 HTTP 协议基于 TCP，建立连接需要经过三次握手，并且该连接是长连接，即 keep-alive IP 数据包在网络传输中还需要经过域间选路和域内选路。 若长时间接收不到应答，TCP 会进行重传和拥塞控制。 BLABLABLA... web 服务器处理请求 web 服务器回传一个 HTTP 相应 浏览器接收到以后解析 HTML并显示 浏览器请求嵌入在 HTML 中的对象 最终浏览器呈现一个图文并茂的页面

		- 安全知识

			- 业务方面

				- 认证

					- token、sign校验
					- cookie
					- session

				- 用户权限（访问控制、页面权限）

					- 操作审核、操作日志记录

				- 第三方登录/单点登录？
				- 可靠性（失败率）
				- 密码修改，原密码应失效
				- 敏感信息脱敏？

					- 异常提示是否友好（不要暴露服务器敏感信息）

				- 数据完整性
				- 是否https
				- 通信是否加密
				- 数据隔离性（是否会互相影响、不同用户、不同车辆？）

			- 技术方面

				- 超时/过期机制（重试机制）
				- 敏感字段加密
				- 上传漏洞
				- SQL注入
				- URL安全测试

					- get、post请求，参数
					- 篡改URL

				- XSS（跨站脚本攻击）
				- CSRF（跨站请求伪造）
				- URL跳转漏洞
				- 其他安全方面的考量

		- 高并发系统

			- 数据库的优化，包括合理的事务隔离级别、SQL语句优化、索引的优化
			- 使用缓存，尽量减少数据库 IO
			- 分布式数据库、分布式缓存
			- 服务器的负载均衡

- 回归(自动化)
- 性能测试

	- 一般性能测试和安全测试都是单独进行
	- 但测试过程是一个综合过程，如：导出就涉及到性能（同步/异步、文件大小限制、时间、超时？、如何拆分文件等）

- 安全测试

	- 一般性能测试和安全测试都是单独进行
	- 但测试过程是一个综合过程，如：登录（SQL注入、注册、注销、cookie、session、token、签名等）

- 测试报告
- 测试总结
- 做好测试工作重点

	- 理解需求
	- 熟悉系统架构
	- 熟悉业务数据流
	- 熟悉功能
	- 掌握测试基础理论
	- 熟悉被测系统所使用技术栈（看重技术的广度和深度）
	- 测试思路清晰且考虑广泛
	- 能站在用户（简单/易使用/友好）及开发（是否易实现/实现是否有更好的方式）、运维（可维护性）等不同的角度多维的看问题
	- bug分析定位及优化建议（troubleshooting）
	- 敏捷的测试思维和严谨的测试态度
	- 善于思考及总结
	- 善于学习及创新
	- 细心

*XMind - Trial Version*